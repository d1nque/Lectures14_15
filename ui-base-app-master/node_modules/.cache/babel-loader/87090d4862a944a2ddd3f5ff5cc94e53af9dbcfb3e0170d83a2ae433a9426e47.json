{"ast":null,"code":"import { getJson, postJson, putJson } from 'requests';\nimport config from 'config/index';\nimport { RECEIVE_BOOK, ERROR_GET_BOOK, REQUEST_BOOK, REQUEST_ADD_BOOK, SUCCESS_ADD_BOOK, ERROR_ADD_BOOK, REQUEST_UPDATE_BOOK, SUCCESS_UPDATE_BOOK, ERROR_UPDATE_BOOK } from '../constants/actionTypes';\nconst errorGetBook = () => ({\n  type: ERROR_GET_BOOK\n});\nconst getBook = id => {\n  const {\n    BOOKS_URL\n  } = config;\n  return getJson({\n    url: `${BOOKS_URL}/${id.id}`\n  }).catch(() => {\n    console.log(\"ploho1\");\n  });\n};\nconst receiveBook = book => ({\n  type: RECEIVE_BOOK,\n  payload: book\n});\nconst requestBook = () => ({\n  type: REQUEST_BOOK\n});\nexport const fetchBook = id => dispatch => {\n  dispatch(requestBook());\n  return getBook({\n    dispatch,\n    id\n  }).then(book => dispatch(receiveBook(book))).catch(() => dispatch(errorGetBook()));\n};\nconst successAddBook = book => ({\n  type: SUCCESS_ADD_BOOK,\n  payload: book\n});\nconst requestAddBook = () => ({\n  type: REQUEST_ADD_BOOK\n});\nconst errorAddBook = () => ({\n  type: ERROR_ADD_BOOK\n});\nconst addBook = book => {\n  const {\n    BASE_URL\n  } = config;\n  return postJson({\n    body: {\n      title: `${book}`,\n      author: 'zaglushka',\n      category: 'Science'\n    },\n    url: `${BASE_URL}/add`\n  }).catch(() => {\n    // TODO: this catch() is just a stub, which should be removed\n  });\n};\nexport const fetchAddBook = book => dispatch => {\n  dispatch(requestAddBook());\n  return addBook(book).then(() => {\n    dispatch(successAddBook());\n  }).catch(() => dispatch(errorAddBook()));\n};\nconst successUpdateBook = book => ({\n  type: SUCCESS_UPDATE_BOOK,\n  payload: book\n});\nconst requestUpdateBook = () => ({\n  type: REQUEST_UPDATE_BOOK\n});\nconst errorUpdateBook = () => ({\n  type: ERROR_UPDATE_BOOK\n});\nconst updateBook = (book, title) => {\n  const {\n    BOOK_URL\n  } = config;\n  return putJson({\n    body: {\n      title: `${title}`,\n      author: `${book.author}`,\n      category: `${book.category}`\n    },\n    url: `${BOOK_URL}update/${book.id}`\n  }).catch(() => {\n    // TODO: this catch() is just a stub, which should be removed\n  });\n};\nexport const fetchUpdateBook = (book, title) => dispatch => {\n  dispatch(requestUpdateBook());\n  return updateBook(book, title).then(() => {\n    dispatch(successUpdateBook());\n  }).catch(() => dispatch(errorUpdateBook()));\n};","map":{"version":3,"names":["getJson","postJson","putJson","config","RECEIVE_BOOK","ERROR_GET_BOOK","REQUEST_BOOK","REQUEST_ADD_BOOK","SUCCESS_ADD_BOOK","ERROR_ADD_BOOK","REQUEST_UPDATE_BOOK","SUCCESS_UPDATE_BOOK","ERROR_UPDATE_BOOK","errorGetBook","type","getBook","id","BOOKS_URL","url","catch","console","log","receiveBook","book","payload","requestBook","fetchBook","dispatch","then","successAddBook","requestAddBook","errorAddBook","addBook","BASE_URL","body","title","author","category","fetchAddBook","successUpdateBook","requestUpdateBook","errorUpdateBook","updateBook","BOOK_URL","fetchUpdateBook"],"sources":["C:/Users/d1nque/Desktop/ui-base-app-master/src/pages/Book/actions/book.js"],"sourcesContent":["import {\n  getJson,\n  postJson,\n  putJson,\n} from 'requests';\nimport config from 'config/index';\nimport {\n  RECEIVE_BOOK,\n  ERROR_GET_BOOK,\n  REQUEST_BOOK, \n  REQUEST_ADD_BOOK,\n  SUCCESS_ADD_BOOK,\n  ERROR_ADD_BOOK,\n  REQUEST_UPDATE_BOOK,\n  SUCCESS_UPDATE_BOOK,\n  ERROR_UPDATE_BOOK,\n} from '../constants/actionTypes';\n\n\n\nconst errorGetBook = () => ({\n  type: ERROR_GET_BOOK,\n});\n\nconst getBook = (id) => {\n  const {\n    BOOKS_URL,\n  } = config;\n  return getJson({\n    url: `${BOOKS_URL}/${id.id}`,\n  })\n  .catch(() => {\n    console.log(\"ploho1\");\n  });\n};\n\nconst receiveBook = (book) => ({\n  type: RECEIVE_BOOK,\n  payload: book,\n});\n\nconst requestBook = () => ({\n  type: REQUEST_BOOK,\n});\n\nexport const fetchBook = (id) => (dispatch) => {\n    dispatch(requestBook());\n    return getBook({\n      dispatch, id\n    }).then(book => dispatch(receiveBook(book)))\n      .catch(() => dispatch(errorGetBook()));\n};\n\n\n\nconst successAddBook = (book) => ({\n  type: SUCCESS_ADD_BOOK,\n  payload: book,\n});\n\nconst requestAddBook = () => ({\n  type: REQUEST_ADD_BOOK,\n});\n\nconst errorAddBook = () => ({\n  type: ERROR_ADD_BOOK,\n});\n\n\nconst addBook = (book) => {\n  const {\n    BASE_URL,\n  } = config;\n  return postJson({\n    body:{\n      title: `${book}`,\n      author: 'zaglushka',\n      category: 'Science'\n    },\n    url: `${BASE_URL}/add`,\n  }).catch(() => {\n    // TODO: this catch() is just a stub, which should be removed\n  });\n};\n\nexport const fetchAddBook = (book) => (dispatch) => {\n  dispatch(requestAddBook());\n  return addBook(book)\n    .then(() => {dispatch(successAddBook());})\n    .catch(() => dispatch(errorAddBook()))\n};\n\n\n\n\nconst successUpdateBook = (book) => ({\n  type: SUCCESS_UPDATE_BOOK,\n  payload: book,\n});\n\nconst requestUpdateBook = () => ({\n  type: REQUEST_UPDATE_BOOK,\n});\n\nconst errorUpdateBook = () => ({\n  type: ERROR_UPDATE_BOOK,\n});\n\n\nconst updateBook = (book, title) => {\n  const {\n    BOOK_URL,\n  } = config;\n  return putJson({\n    body:{\n      title: `${title}`,\n      author: `${book.author}`,\n      category: `${book.category}`,\n    },\n    url: `${BOOK_URL}update/${book.id}`,\n  }).catch(() => {\n    // TODO: this catch() is just a stub, which should be removed\n  });\n};\n\nexport const fetchUpdateBook = (book, title) => (dispatch) => {\n  dispatch(requestUpdateBook());\n  return updateBook(book, title)\n    .then(() => {dispatch(successUpdateBook());})\n    .catch(() => dispatch(errorUpdateBook()))\n};\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}