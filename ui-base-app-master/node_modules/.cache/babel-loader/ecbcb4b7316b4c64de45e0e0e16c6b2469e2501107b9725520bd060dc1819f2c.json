{"ast":null,"code":"import { getJson, deleteJson } from 'requests';\nimport config from 'config/index';\nimport { RECEIVE_ALL_BOOKS, SUCCESS_DELETE_BOOK, REQUEST_ALL_BOOKS, REQUEST_DELETE_BOOK, ERROR_RECEIVE_ALL_BOOKS, ERROR_DELETE_BOOK } from '../constants/actionTypes';\nconst errorGetAllBooks = () => ({\n  type: ERROR_RECEIVE_ALL_BOOKS\n});\nconst getAllBooks = () => {\n  const {\n    BOOKS_URL\n  } = config;\n  return getJson({\n    url: `${BOOKS_URL}`\n  }).catch(() => {\n    console.log(\"ploho\");\n  });\n};\nconst receiveAllBooks = books => ({\n  type: RECEIVE_ALL_BOOKS,\n  payload: books\n});\nconst requestAllBooks = () => ({\n  type: REQUEST_ALL_BOOKS\n});\nexport const fetchBooks = () => dispatch => {\n  dispatch(requestAllBooks());\n  return getAllBooks({\n    dispatch\n  }).then(books => dispatch(receiveAllBooks(books))).catch(() => dispatch(errorGetAllBooks()));\n};\nconst errorDeleteBook = () => ({\n  type: ERROR_DELETE_BOOK\n});\nconst successDeleteBook = books => ({\n  type: SUCCESS_DELETE_BOOK,\n  payload: books\n});\nconst requestDeleteBook = () => ({\n  type: REQUEST_DELETE_BOOK\n});\nconst deleteBook = id => {\n  const {\n    BOOKS_URL\n  } = config;\n  return deleteJson({\n    url: `${BOOKS_URL}/remove/${id}`\n  }).catch(() => {\n    console.log(\"ploho\");\n  });\n};\nexport const fetchDeleteBook = () => dispatch => {\n  dispatch(requestDeleteBook());\n  return deleteBook({\n    dispatch\n  }).then(user => dispatch(successDeleteBook(user))).catch(() => dispatch(errorDeleteBook()));\n};","map":{"version":3,"names":["getJson","deleteJson","config","RECEIVE_ALL_BOOKS","SUCCESS_DELETE_BOOK","REQUEST_ALL_BOOKS","REQUEST_DELETE_BOOK","ERROR_RECEIVE_ALL_BOOKS","ERROR_DELETE_BOOK","errorGetAllBooks","type","getAllBooks","BOOKS_URL","url","catch","console","log","receiveAllBooks","books","payload","requestAllBooks","fetchBooks","dispatch","then","errorDeleteBook","successDeleteBook","requestDeleteBook","deleteBook","id","fetchDeleteBook","user"],"sources":["C:/Users/d1nque/Desktop/ui-base-app-master/src/pages/Books/actions/book.js"],"sourcesContent":["import {\n  getJson,\n  deleteJson,\n} from 'requests';\nimport config from 'config/index';\nimport {\n  RECEIVE_ALL_BOOKS,\n  SUCCESS_DELETE_BOOK,\n  REQUEST_ALL_BOOKS,\n  REQUEST_DELETE_BOOK,\n  ERROR_RECEIVE_ALL_BOOKS,\n  ERROR_DELETE_BOOK\n} from '../constants/actionTypes';\n\nconst errorGetAllBooks = () => ({\n  type: ERROR_RECEIVE_ALL_BOOKS,\n});\n\n\nconst getAllBooks = () => {\n  const {\n    BOOKS_URL,\n  } = config;\n  return getJson({\n    url: `${BOOKS_URL}`,\n  })\n  .catch(() => {\n    console.log(\"ploho\");\n  });\n};\n\nconst receiveAllBooks = (books) => ({\n  type: RECEIVE_ALL_BOOKS,\n  payload: books,\n});\n\nconst requestAllBooks = () => ({\n  type: REQUEST_ALL_BOOKS,\n});\n\nexport const fetchBooks = () => (dispatch) => {\n    dispatch(requestAllBooks());\n    return getAllBooks({\n      dispatch,\n    }).then(books => dispatch(receiveAllBooks(books)))\n      .catch(() => dispatch(errorGetAllBooks()));\n};\n\n\nconst errorDeleteBook = () => ({\n  type: ERROR_DELETE_BOOK,\n});\n\n\nconst successDeleteBook = (books) => ({\n  type: SUCCESS_DELETE_BOOK,\n  payload: books,\n});\n\nconst requestDeleteBook = () => ({\n  type: REQUEST_DELETE_BOOK,\n});\n\nconst deleteBook = (id) => {\n  const {\n    BOOKS_URL,\n  } = config;\n  return deleteJson({\n    url: `${BOOKS_URL}/remove/${id}`,\n  })\n  .catch(() => {\n    console.log(\"ploho\");\n  });\n};\n\nexport const fetchDeleteBook = () => (dispatch) => {\n    dispatch(requestDeleteBook());\n    return deleteBook({\n      dispatch,\n    }).then(user => dispatch(successDeleteBook(user)))\n      .catch(() => dispatch(errorDeleteBook()));\n};\n\n"],"mappings":"AAAA,SACEA,OAAO,EACPC,UAAU,QACL,UAAU;AACjB,OAAOC,MAAM,MAAM,cAAc;AACjC,SACEC,iBAAiB,EACjBC,mBAAmB,EACnBC,iBAAiB,EACjBC,mBAAmB,EACnBC,uBAAuB,EACvBC,iBAAiB,QACZ,0BAA0B;AAEjC,MAAMC,gBAAgB,GAAG,OAAO;EAC9BC,IAAI,EAAEH;AACR,CAAC,CAAC;AAGF,MAAMI,WAAW,GAAG,MAAM;EACxB,MAAM;IACJC;EACF,CAAC,GAAGV,MAAM;EACV,OAAOF,OAAO,CAAC;IACba,GAAG,EAAG,GAAED,SAAU;EACpB,CAAC,CAAC,CACDE,KAAK,CAAC,MAAM;IACXC,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;EACtB,CAAC,CAAC;AACJ,CAAC;AAED,MAAMC,eAAe,GAAIC,KAAK,KAAM;EAClCR,IAAI,EAAEP,iBAAiB;EACvBgB,OAAO,EAAED;AACX,CAAC,CAAC;AAEF,MAAME,eAAe,GAAG,OAAO;EAC7BV,IAAI,EAAEL;AACR,CAAC,CAAC;AAEF,OAAO,MAAMgB,UAAU,GAAG,MAAOC,QAAQ,IAAK;EAC1CA,QAAQ,CAACF,eAAe,EAAE,CAAC;EAC3B,OAAOT,WAAW,CAAC;IACjBW;EACF,CAAC,CAAC,CAACC,IAAI,CAACL,KAAK,IAAII,QAAQ,CAACL,eAAe,CAACC,KAAK,CAAC,CAAC,CAAC,CAC/CJ,KAAK,CAAC,MAAMQ,QAAQ,CAACb,gBAAgB,EAAE,CAAC,CAAC;AAChD,CAAC;AAGD,MAAMe,eAAe,GAAG,OAAO;EAC7Bd,IAAI,EAAEF;AACR,CAAC,CAAC;AAGF,MAAMiB,iBAAiB,GAAIP,KAAK,KAAM;EACpCR,IAAI,EAAEN,mBAAmB;EACzBe,OAAO,EAAED;AACX,CAAC,CAAC;AAEF,MAAMQ,iBAAiB,GAAG,OAAO;EAC/BhB,IAAI,EAAEJ;AACR,CAAC,CAAC;AAEF,MAAMqB,UAAU,GAAIC,EAAE,IAAK;EACzB,MAAM;IACJhB;EACF,CAAC,GAAGV,MAAM;EACV,OAAOD,UAAU,CAAC;IAChBY,GAAG,EAAG,GAAED,SAAU,WAAUgB,EAAG;EACjC,CAAC,CAAC,CACDd,KAAK,CAAC,MAAM;IACXC,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;EACtB,CAAC,CAAC;AACJ,CAAC;AAED,OAAO,MAAMa,eAAe,GAAG,MAAOP,QAAQ,IAAK;EAC/CA,QAAQ,CAACI,iBAAiB,EAAE,CAAC;EAC7B,OAAOC,UAAU,CAAC;IAChBL;EACF,CAAC,CAAC,CAACC,IAAI,CAACO,IAAI,IAAIR,QAAQ,CAACG,iBAAiB,CAACK,IAAI,CAAC,CAAC,CAAC,CAC/ChB,KAAK,CAAC,MAAMQ,QAAQ,CAACE,eAAe,EAAE,CAAC,CAAC;AAC/C,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}